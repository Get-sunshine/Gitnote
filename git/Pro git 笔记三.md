## Git分支

Git的分支模型，是git的‘必杀技特性’。

### 分支简介

先回顾一下Git是如何保存数据的。

Git保存的是一系列不同时刻的文件快照，而不是文件的变化或者差异。

提交操作时，Git会保存一个提交对象（commit object）。该提交对象保存了作者的姓名、邮箱、提交时输入的信息以及指向它的父对象的指针。首个提交对象没有父对象，普通提交对象有父对象，由多个分支合并产生的提交对象有多个父对象。

使用一个例子来说明：

假设有一个工作目录，包含三个将要被暂存和提交的文件。暂存操作为每个文件计算校验和（SHA-1 哈希算法），然后把当前版本的文件快照保存到Git仓库中（Git使用blob对象保存快照），最终将校验和加入到暂存区等待提交：

```
$ git add README test.rb LICENSE
$ git commit -m 'The initial commit of my project'
```

git commit提交时，Git先计算每个子目录的校验和，然后在Git仓库中这些校验和保存为树对象。之后，Git创建一个提交对象，该对象包含前面所述信息，还包含指向这个树对象的指针。然后，Git就可以在需要时重现此次的快照。

现在，Git仓库中有五个对象：三个blob对象（保存文件快照）、一个树对象（记录目录结构和blob对象索引）以及一个提交对象（包含指向前述树对象的指针和所有提交信息）

![1629302413401](E:\前端\GitNote\Gitnote\git\图片笔记\1629302413401.png)

提交后，再次修改，再次提交。这次的提交对象会包含指向上次提交对象（父对象）的指针。

![1629603517804](E:\前端\GitNote\Gitnote\git\图片笔记\1629603517804.png)

Git分支本质：指向提交对象的可变指针。 Git默认分支：master。多次提交后，会有指向最后那个提交对象的master分支，它会在每次的提交操作中自动向前移动。

master分支与其他分支完全相同，不是一个特殊的分支。 该分支是git init命令创建的，大多数人懒得更改而已。

![1629603876532](E:\前端\GitNote\Gitnote\git\图片笔记\1629603876532.png)

### 创建分支：git branch 

Git创建分支，只是创建了可以移动的新的指针。

```
git branch testing
```

该命令创建了testing分支，会在当前所在提交对象上创建新指针。

![1629621887706](E:\前端\GitNote\Gitnote\git\图片笔记\1629621887706.png)